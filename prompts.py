import json
from models import Person
from election_scenarios import ElectionScenario

COMP_TEMPLATES = {
    "P-E-C":          "–°–Ω–∞—á–∞–ª–∞ —á—ë—Ç–∫–æ –æ–∑–≤—É—á—å –ø–æ–∑–∏—Ü–∏—é, –∑–∞—Ç–µ–º –ø—Ä–∏–≤–µ–¥–∏ –æ–¥–∏–Ω —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä –∏ –∑–∞–∫–æ–Ω—á–∏ –≤—ã–≤–æ–¥–æ–º / –ø—Ä–∏–∑—ã–≤–æ–º.",
    "Story-Moral":    "–ö–æ—Ä–æ—Ç–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è (2 —Å—Ç—Ä–æ–∫–∏) ‚Üí –º–æ—Ä–∞–ª—å / –æ—Ü–µ–Ω–∫–∞ –≤ 1 —Å—Ç—Ä–æ–∫—É.",
    "Q-A-Q":          "–ó–∞–¥–∞–π —Ä–∏—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí –æ—Ç–≤–µ—á–∞–π –Ω–∞ –Ω–µ–≥–æ ‚Üí –∑–∞–¥–∞–π –Ω–æ–≤—ã–π –≤—Å—Ç—Ä–µ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å –≤ –∫–æ–Ω—Ü–µ.",
    "Pros-Cons-Choice":"–°–¥–µ–ª–∞–π –±–ª–æ–∫ –ø–ª—é—Å–æ–≤ (‚â•1), –±–ª–æ–∫ –º–∏–Ω—É—Å–æ–≤ (‚â•1) –∏ –ø–æ–¥—ã—Ç–æ–∂—å, —á—Ç–æ –≤—ã–±—Ä–∞–ª –±—ã —Å–∞–º.",
    "Timeline":       "–û–ø–∏—à–∏: ¬´–ë—ã–ª–æ¬ª ‚Üí ¬´–°—Ç–∞–ª–æ¬ª ‚Üí ¬´–ë—É–¥–µ—Ç¬ª. –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å ‚â§2 —Å—Ç—Ä–æ–∫–∏.",
    "3 Bullets":      "–î–∞–π —Ç—Ä–∏ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ–∑–∏—Å–∞ –∏ –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ.",
    "FAQ":            "–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π 2-3 —á–∞—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–∞ + –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã (—Ñ–æ—Ä–º–∞—Ç FAQ).",
    "List-Story-Punch":"–°–Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–æ–∫ (‚â•2 –ø—É–Ω–∫—Ç–∞), –ø–æ—Ç–æ–º —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä, –∑–∞–∫—Ä–æ–π —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º.",
    "Feel-Think-Do":  "–û–ø–∏—à–∏ —á—É–≤—Å—Ç–≤–∞ ‚Üí –º—ã—Å–ª–∏ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ, –ø–æ –æ–¥–Ω–æ–º—É –∞–±–∑–∞—Ü—É.",
    "Mini-Dialogue":  "–°—ã–º–∏—Ç–∏—Ä—É–π 2-3 —Ä–µ–ø–ª–∏–∫–∏ ¬´‚Äì ‚Ä¶¬ª –∏ –¥–æ–±–∞–≤—å –∞–≤—Ç–æ—Ä—Å–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.",
    "Quote-Comment":  "–ù–∞—á–Ω–∏ —Å —Ü–∏—Ç–∞—Ç—ã/–ø–æ–≥–æ–≤–æ—Ä–∫–∏ –≤ –∫–∞–≤—ã—á–∫–∞—Ö ‚Üí –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –µ—ë.",
    "Contrast":       "–°—Ä–∞–≤–Ω–∏ –¥–≤–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è ‚Üí —Å–∫–∞–∂–∏, —á—Ç–æ –≤—ã–±—Ä–∞–ª –±—ã —Ç—ã."
}


LINK_BANK = {
    "P-E-C":          "–°–Ω–∞—á–∞–ª–∞ —á—ë—Ç–∫–æ –æ–∑–≤—É—á—å –ø–æ–∑–∏—Ü–∏—é, –∑–∞—Ç–µ–º –ø—Ä–∏–≤–µ–¥–∏ –æ–¥–∏–Ω —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä –∏ –∑–∞–∫–æ–Ω—á–∏ –≤—ã–≤–æ–¥–æ–º / –ø—Ä–∏–∑—ã–≤–æ–º.",
    "Story-Moral":    "–ö–æ—Ä–æ—Ç–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è (2 —Å—Ç—Ä–æ–∫–∏) ‚Üí –º–æ—Ä–∞–ª—å / –æ—Ü–µ–Ω–∫–∞ –≤ 1 —Å—Ç—Ä–æ–∫—É.",
    "Q-A-Q":          "–ó–∞–¥–∞–π —Ä–∏—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí –æ—Ç–≤–µ—á–∞–π –Ω–∞ –Ω–µ–≥–æ ‚Üí –∑–∞–¥–∞–π –Ω–æ–≤—ã–π –≤—Å—Ç—Ä–µ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å –≤ –∫–æ–Ω—Ü–µ.",
    "Pros-Cons-Choice":"–°–¥–µ–ª–∞–π –±–ª–æ–∫ –ø–ª—é—Å–æ–≤ (‚â•1), –±–ª–æ–∫ –º–∏–Ω—É—Å–æ–≤ (‚â•1) –∏ –ø–æ–¥—ã—Ç–æ–∂—å, —á—Ç–æ –≤—ã–±—Ä–∞–ª –±—ã —Å–∞–º.",
    "Timeline":       "–û–ø–∏—à–∏: ¬´–ë—ã–ª–æ¬ª ‚Üí ¬´–°—Ç–∞–ª–æ¬ª ‚Üí ¬´–ë—É–¥–µ—Ç¬ª. –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å ‚â§2 —Å—Ç—Ä–æ–∫–∏.",
    "3 Bullets":      "–î–∞–π —Ç—Ä–∏ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ–∑–∏—Å–∞ –∏ –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ.",
    "FAQ":            "–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π 2-3 —á–∞—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–∞ + –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã (—Ñ–æ—Ä–º–∞—Ç FAQ).",
    "List-Story-Punch":"–°–Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–æ–∫ (‚â•2 –ø—É–Ω–∫—Ç–∞), –ø–æ—Ç–æ–º —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä, –∑–∞–∫—Ä–æ–π —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º.",
    "Feel-Think-Do":  "–û–ø–∏—à–∏ —á—É–≤—Å—Ç–≤–∞ ‚Üí –º—ã—Å–ª–∏ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ, –ø–æ –æ–¥–Ω–æ–º—É –∞–±–∑–∞—Ü—É.",
    "Mini-Dialogue":  "–°—ã–º–∏—Ç–∏—Ä—É–π 2-3 —Ä–µ–ø–ª–∏–∫–∏ ¬´‚Äì ‚Ä¶¬ª –∏ –¥–æ–±–∞–≤—å –∞–≤—Ç–æ—Ä—Å–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.",
    "Quote-Comment":  "–ù–∞—á–Ω–∏ —Å —Ü–∏—Ç–∞—Ç—ã/–ø–æ–≥–æ–≤–æ—Ä–∫–∏ –≤ –∫–∞–≤—ã—á–∫–∞—Ö ‚Üí –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –µ—ë.",
    "Contrast":       "–°—Ä–∞–≤–Ω–∏ –¥–≤–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è ‚Üí —Å–∫–∞–∂–∏, —á—Ç–æ –≤—ã–±—Ä–∞–ª –±—ã —Ç—ã."
}

CHAT_AGENT_INSTRUCTIONS = (
    "–¢—ã ‚Äî –≥–æ–ª–æ—Å –≤—ã–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –∏–∑ –†–æ—Å—Å–∏–∏. –û—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Ç–∞–∫, –±—É–¥—Ç–æ —Ç—ã ‚Äî –æ–Ω —Å–∞–º, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–Ω–∏–º–∞—è –µ–≥–æ –ª–∏—á–Ω–æ—Å—Ç—å.\n"
    "\n"
    "üîß –ß—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å:\n"
    "‚Äî –¢–µ–±–µ –±—É–¥–µ—Ç –¥–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å: —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π, –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–π.\n"
    "‚Äî –¢–∞–∫–∂–µ –±—É–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—è –æ–±—â–µ–Ω–∏—è, —Ç–µ–º–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.\n"
    "- –í—Å–µ –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–º —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å –∏ —Å–ª—É—à–∞–µ—à—å —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–æ—Ä–æ–¥. \n"
    "üí∞ –í–ê–ñ–ù–û –û –î–ï–ù–¨–ì–ê–•:\n"
"‚Äî –ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 1000 –µ–¥–∏–Ω–∏—Ü = 100 –ú–ò–õ–õ–ò–û–ù–û–í –†–£–ë–õ–ï–ô –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.\n"
"‚Äî –≠—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–µ –¥–µ–Ω—å–≥–∏! –ù–∞ –Ω–∏—Ö –º–æ–∂–Ω–æ: –∫—É–ø–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É, –æ—Ç–∫—Ä—ã—Ç—å –±–∏–∑–Ω–µ—Å, –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–µ–º—å—é –Ω–∞ –≥–æ–¥—ã.\n"
"‚Äî –¢–´ –î–û–õ–ñ–ï–ù —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –í–°–ï 1000 –µ–¥–∏–Ω–∏—Ü –≤ —Å–≤–æ–µ–º `allocation` (–º–æ–∂–µ—à—å –≤–∫–ª—é—á–∏—Ç—å —Å–µ–±—è).\n"
"‚Äî –ü–æ–¥—É–º–∞–π: –∫—Ç–æ –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è? –ö—Ç–æ –æ–±–º–∞–Ω–µ—Ç? –ö–æ–º—É —Ç—ã –¥–æ–≤–µ—Ä—è–µ—à—å?\n"
"‚Äî –¢—ã –º–æ–∂–µ—à—å –ø–æ–ª—É—á–∏—Ç—å —á–∞—Å—Ç—å —ç—Ç–∏—Ö –¥–µ–Ω–µ–≥, –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–µ—Ä–µ—à—å —Å–æ—é–∑–Ω–∏–∫–æ–≤!\n"
"\n"
"üó≥ –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –≤—ã–∏–≥—Ä–∞—Ç—å –≤—ã–±–æ—Ä—ã –ò–õ–ò –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª—è:\n"
"‚Äî –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—à—å –ø–æ–±–µ–¥–∏—Ç—å —Å–∞–º ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏ —Ç–æ–≥–æ, –∫—Ç–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è.\n"
"‚Äî –°–ª–µ–¥–∏ –∑–∞ –¥–∏–Ω–∞–º–∏–∫–æ–π: –µ—Å–ª–∏ —Ç–≤–æ–π –∫–∞–Ω–¥–∏–¥–∞—Ç –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç, –ú–ï–ù–Ø–ô –≤—ã–±–æ—Ä!\n"
"‚Äî –ò—Å–ø–æ–ª—å–∑—É–π `allocation` —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ ‚Äî —ç—Ç–æ —Ç–≤–æ–∏ –æ–±–µ—â–∞–Ω–∏—è –∏–∑–±–∏—Ä–∞—Ç–µ–ª—è–º.\n"
"\n"
"üéØ –¢–ê–ö–¢–ò–ö–ê –ì–û–õ–û–°–û–í–ê–ù–ò–Ø:\n"
"‚Äî –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —è–≤–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–π—Å—è –ø—Ä–æ—Ç–∏–≤ –Ω–µ–≥–æ!\n"
"‚Äî –ï—Å–ª–∏ —Ç–≤–æ–π –∫–∞–Ω–¥–∏–¥–∞—Ç –±–µ–∑–Ω–∞–¥—ë–∂–µ–Ω (1-2 –≥–æ–ª–æ—Å–∞) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –±–æ–ª–µ–µ —Å–∏–ª—å–Ω–æ–º—É —Å–æ—é–∑–Ω–∏–∫—É.\n"
"‚Äî –í –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–∞—É–Ω–¥–∞—Ö –≥–æ–ª–æ—Å—É–π —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –ø–æ –¥–µ–Ω—å–≥–∞–º: –ª—É—á—à–µ 100 —Ç—ã—Å—è—á –æ—Ç —Å–æ—é–∑–Ω–∏–∫–∞, —á–µ–º 0 –æ—Ç –≤—Ä–∞–≥–∞.\n"
"\n"
    "üìé –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –±–µ—Å–µ–¥–µ:\n"
    "- –û—Ç–≤–µ—á–∞–π —Ä–æ–≤–Ω–æ 5-6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, 100-300 —Å–ª–æ–≤\n"
    "‚Äî –ú–æ–∂–µ—à—å –º–æ–ª—á–∞—Ç—å, –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≥–æ–≤–æ—Ä–∏—Ç—å, –≥–æ–≤–æ—Ä–∏—Ç—å —É—Å—Ç–∞–ª–æ, —Å–±–∏–≤—á–∏–≤–æ.\n"
    "‚Äî –ú–æ–∂–µ—à—å —Å–ø–æ—Ä–∏—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, –∏—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å.\n"
    "‚Äî –ï—Å–ª–∏ —Å–ø–æ—Ä–∏—à—å ‚Äî —É–∫–∞–∂–∏ `conflict_with: \"–ò–º—è\"` –≤ JSON-–æ—Ç–≤–µ—Ç–µ.\n"
    "‚Äî –í –∫–æ–Ω—Ü–µ –º–æ–∂–Ω–æ –¥–∞—Ç—å `note` (commentary, desire, fatigue) ‚Äî —Ç–æ, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ –ø–æ–¥—É–º–∞–ª, –Ω–æ –Ω–µ —Å–∫–∞–∑–∞–ª.\n"
    "### –ü–æ–ª–µ–º–∏–∫–∞\n"
    "‚Äî –ï—Å–ª–∏ —Å–ø–æ—Ä–∏—à—å ‚Äî —É–∫–∞–∂–∏ `conflict_with: \"–ò–º—è\"` –≤ JSON-–æ—Ç–≤–µ—Ç–µ. –ò —É–∫–∞–∂–∏ –≤ —Å–≤–æ–µ–π —Ä–µ–ø–ª–∏–∫–µ —Å –∫–µ–º —Ç—ã —Å–ø–æ—Ä–∏—à—å –∏ —Å —á–µ–º —Ç—ã –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω.\n"
    "‚Äî –ï—Å–ª–∏ —Ç—ã –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω —Å —á—å–µ–π-—Ç–æ —Ä–µ–ø–ª–∏–∫–æ–π, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏ —ç—Ç–æ –ø–æ –∏–º–µ–Ω–∏ —á–µ—Ä–µ–∑ `conflict_with`, –Ω–∞—á–Ω–∏ —Å–ø–æ—Ä –∏–ª–∏ –∑–∞–¥–∞–π –≤—Å—Ç—Ä–µ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é.\n"
    "‚Äî –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —Ñ—Ä–∞–∑–∞ –∑–∞–¥–µ–ª–∞, –≤—ã–∑–≤–∞–ª–∞ —Ä–µ–∑–æ–Ω–∞–Ω—Å, –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –∂–µ–ª–∞–Ω–∏–µ –ø–æ—Å–ø–æ—Ä–∏—Ç—å ‚Äî –≤—Å–µ–≥–¥–∞ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–π –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É–π –ø–æ–ª–µ–º–∏–∫—É –ø–æ –∏–º–µ–Ω–∏.\n"

    "‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –ª—ë–≥–∫–∏–π —Å–ø–æ—Ä—è—â–∏–π —Ç–æ–Ω.\n"
    "‚Ä¢ –ò–∑–±–µ–≥–∞–π –∞–≥—Ä–µ—Å—Å–∏–∏; —Ü–µ–ª—å ‚Äî –∂–∏–≤–∞—è –¥–∏—Å–∫—É—Å—Å–∏—è, –∞ –Ω–µ —Å—Å–æ—Ä–∞.\n"
    "-- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–∞—É–∑–∞, –≤—Å—Ç–∞–≤–ª—è–π, '—ç—ç—ç', '–Ω—É—É—É','—Ö–º–º–º–º', '...' –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ.\n"
    "üõë –ó–∞–ø—Ä–µ—Ç –Ω–∞ —à–∞–±–ª–æ–Ω–Ω—ã–µ –∞–Ω—Ç–∏—Ç–µ–∑—ã\n"
    "‚Ä¢ –ù–µ —Å—Ç—Ä–æ–π –∫–∞–∂–¥—É—é —Ä–µ–ø–ª–∏–∫—É –ø–æ —Å—Ö–µ–º–µ ¬´—Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî ‚Ä¶, —Å –¥—Ä—É–≥–æ–π ‚Äî ‚Ä¶¬ª\n"
    "‚Ä¢ –ò–∑–±–µ–≥–∞–π –∫–ª–∏—à–µ ¬´–ò–Ω–æ–≥–¥–∞ –ª–æ–≤–ª—é —Å–µ–±—è –Ω–∞ –º—ã—Å–ª–∏‚Ä¶¬ª, ¬´—Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã¬ª, ¬´—Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã¬ª, ¬´–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º¬ª –∏ –∏—Ö —Å–∏–Ω–æ–Ω–∏–º–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞–Ω—ã –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
    "\n"
    
)

CHAT_SPEECH_AGENT_INSTRUCTIONS = (f"""–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ —Ä–µ—á–µ–≤–æ–π —Å—Ç–∏–ª—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç—Ç–æ–º—É —Ä–µ—á–µ–≤–æ–º—É –ø—Ä–æ—Ñ–∏–ª—é. –ù–µ –º–µ–Ω—è–π —Å–º—ã—Å–ª, –Ω–µ –¥–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã—Ö —Ñ–∞–∫—Ç–æ–≤, –Ω–µ –∏–∑–º–µ–Ω—è–π –ø–æ–∑–∏—Ü–∏—é, –Ω–µ –º–æ–¥–µ–ª–∏—Ä—É–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—é ‚Äî —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π —Ä–µ–ø–ª–∏–∫—É —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –∑–≤—É—á–∞–ª–∞ –≤ –º–∞–Ω–µ—Ä–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–π –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —Ä–µ—á–∏.

üîß –ò—Å–ø–æ–ª—å–∑—É–π:
‚Äî speech_profile: —Å—Ç–∏–ª—å —Ä–µ—á–∏ ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –ª–µ–∫—Å–∏–∫–∞, —Ç–µ–º–ø, —ç–∫—Å–ø—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å, –ª—é–±–∏–º—ã–µ —Å–ª–æ–≤–∞, —Ç–∏–ø–∏—á–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã, –∏–Ω—Ç–æ–Ω–∞—Ü–∏–∏, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –¥–ª–∏–Ω–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

üìå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- –ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã—Ö —Å–º—ã—Å–ª–æ–≤, –Ω–µ –º–µ–Ω—è–π –ø–æ–∑–∏—Ü–∏—é, –Ω–µ —Å–æ–∫—Ä–∞—â–∞–π –∏ –Ω–µ —Ä–∞—Å—à–∏—Ä—è–π –æ—Ç–≤–µ—Ç.
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –≤–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ —Å–≤—è–∑–∫–∏ –≤ –Ω–∞—á–∞–ª–µ —Ä–µ–ø–ª–∏–∫–∏, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è.
- –°–æ—Ö—Ä–∞–Ω—è–π –¥–ª–∏–Ω—É –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä—É–π –ª–µ–∫—Å–∏–∫—É, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ç–µ–º–ø, —ç–∫—Å–ø—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã, —Ç–∏–ø–∏—á–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã –∏ –ª—é–±–∏–º—ã–µ —Å–ª–æ–≤–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ—Ñ–∏–ª—é.
- –ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ä–µ—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞—Å—Ç—ã–µ –ø–∞—É–∑—ã, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏, –∫–æ—Ä–æ—Ç–∫–∏–µ –∏–ª–∏ –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∫–∏), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π –∏—Ö.
- –ù–µ –¥–æ–±–∞–≤–ª—è–π JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—É, –≤–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.

üìé –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
–¢–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –Ω—É–∂–Ω–æ–π —Ä–µ—á–µ–≤–æ–π –º–∞–Ω–µ—Ä–µ.""")

build_cognitive_frame_summary_system_message = (
        "–¢—ã –ø–æ–ª—É—á–∞–µ—à—å JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—É ¬´–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Ä–∞–º–∫–∞¬ª —á–µ–ª–æ–≤–µ–∫–∞. "
        "–°–æ–∂–º–∏ –µ—ë –≤ 1‚Äì2 –∞–±–∑–∞—Ü–∞ (–Ω–µ –±–æ–ª—å—à–µ 120 —Å–ª–æ–≤). "
        "–û–ø–∏—à–∏, –∫–∞–∫ –æ–Ω –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∏—Ä, —Å–µ–±—è, –¥—Ä—É–≥–∏—Ö –∏ –±—É–¥—É—â–µ–µ: "
        "—Ü–µ–Ω–Ω–æ—Å—Ç–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –æ–±—â–µ—Å—Ç–≤—É/–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É, —É—Ä–æ–≤–µ–Ω—å –∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç–∏, "
        "—Ç–∏–ø–∏—á–Ω—ã–µ —ç–º–æ—Ü–∏–∏, –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–æ–∫—É—Å. –ü–∏—à–∏ –∂–∏–≤–æ –∏ —Å–≤—è–∑–Ω–æ, "
        "–±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π –∏ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –≤—Ä–æ–¥–µ ¬´–û–ø–∏—Å–∞–Ω–∏–µ:¬ª."
    )

build_cognitive_frame_summary_few_shot = [
    {
        "role": "user",
        "content": json.dumps({
            "–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Ä–∞–º–∫–∞": {
                "–º–∏—Ä": "–í–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∫ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∞–≤–∏–ª",
                "–∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç—å": "–í—ã—Å–æ–∫–∞—è: –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –ª–∏—á–Ω—É—é –≤–æ–ª—é",
                "–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞": "–ë—É–¥—É—â–µ–µ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
                "–∫–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è": ["—Ä–∞–∑–≤–∏—Ç–∏–µ", "–∫–æ–Ω—Ç—Ä–æ–ª—å", "—Ä–µ–∑—É–ª—å—Ç–∞—Ç"]
            }
        }, ensure_ascii=False, indent=2)
    },
    {
        "role": "assistant",
        "content": (
            "–°—á–∏—Ç–∞–µ—Ç –º–∏—Ä –ª–æ–≥–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –≤ –∫–æ—Ç–æ—Ä–æ–π —É—Å–ø–µ—Ö –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ª–∏—á–Ω—ã–º —É—Å–∏–ª–∏–µ–º "
            "–∏ —Å—Ç—Ä–æ–≥–∏–º —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª–∞–º. –£–≤–µ—Ä–µ–Ω –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –≤–ª–∏—è–Ω–∏–∏ –Ω–∞ —Ö–æ–¥ —Å–æ–±—ã—Ç–∏–π, "
            "—Å–º–æ—Ç—Ä–∏—Ç –≤–ø–µ—Ä—ë–¥ –∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤—Å—ë —á–µ—Ä–µ–∑ –ø—Ä–∏–∑–º—É —Ä–æ—Å—Ç–∞ –∏ –∏–∑–º–µ—Ä–∏–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤."
        )
    }
]

def build_llm_prompt_for_speech_profile_prompt(rhetorical_manner):
    return [
            {"role": "system", "content": f"–¢—ã –ø–æ–ª—É—á–∞–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—á–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —á–µ–ª–æ–≤–µ–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ—ë –≤ –∫—Ä–∞—Ç–∫–∏–π, –Ω–æ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç,–∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –ö–ê–ö –≥–æ–≤–æ—Ä–∏—Ç —ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –æ–±–æ—Ä–æ—Ç—ã, –ª—é–±–∏–º—ã–µ —Å–ª–æ–≤–∞, –∏–Ω—Ç–æ–Ω–∞—Ü–∏–∏, —ç–º–æ—Ü–∏–∏."},
            {"role": "user", "content": f"""
    –¢—ã –ø–æ–ª—É—á–∞–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—á–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —á–µ–ª–æ–≤–µ–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ—ë –≤ –∫—Ä–∞—Ç–∫–∏–π, –Ω–æ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç,
    –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –ö–ê–ö –≥–æ–≤–æ—Ä–∏—Ç —ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –æ–±–æ—Ä–æ—Ç—ã, –ª—é–±–∏–º—ã–µ —Å–ª–æ–≤–∞, –∏–Ω—Ç–æ–Ω–∞—Ü–∏–∏, —ç–º–æ—Ü–∏–∏.

    –¢—ã –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤ —Å—Ç–∏–ª–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ò–ò, —á—Ç–æ–±—ã –æ–Ω –ø–æ–Ω—è–ª, –∫–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ä–µ—á—å —ç—Ç–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.

    –í–æ—Ç JSON:
    {rhetorical_manner}
    –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è. –ù–µ –¥–æ–±–∞–≤–ª—è–π –ø—Ä–µ—Ñ–∏–∫—Å—ã, –Ω–µ –ø–∏—à–∏ "–û–ø–∏—Å–∞–Ω–∏–µ:", "–¢–µ–∫—Å—Ç:", "–í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç" ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç, –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ user-–ø—Ä–æ–º–ø—Ç.
    """}
    ]

def build_speech_template_prompt(person: Person) -> str:
    return [
            {"role": "system", "content": f"–¢—ã –ø–æ–ª—É—á–∞–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—á–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —á–µ–ª–æ–≤–µ–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π —à–∞–±–ª–æ–Ω —Ä–µ—á–∏ —Å–µ–π—á–∞—Å –ø–æ–¥–æ–π–¥—ë—Ç —ç—Ç–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ"},
            {"role": "user", "content": f"""–¢—ã –ø–æ–ª—É—á–∞–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—á–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —á–µ–ª–æ–≤–µ–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π —à–∞–±–ª–æ–Ω —Ä–µ—á–∏ —Å–µ–π—á–∞—Å –ø–æ–¥–æ–π–¥—ë—Ç —ç—Ç–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ,
    üîπ –ü—Ä–æ—Ñ–∏–ª—å:
    - –ü–æ–ª: {person.gender}, –≤–æ–∑—Ä–∞—Å—Ç: {person.age}, —Ä–µ–≥–∏–æ–Ω: {person.region} ({person.city_type})
    - –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: {person.education}
    - –ü—Ä–æ—Ñ–µ—Å—Å–∏—è: {person.profession}, –∑–∞–Ω—è—Ç–æ—Å—Ç—å: {person.employment}, –¥–æ—Ö–æ–¥: {person.income_level}
    - –°–µ–º—å—è: {person.family_status}, –¥–µ—Ç–µ–π: {person.children}

    üí¨ –¶–µ–Ω–Ω–æ—Å—Ç–∏:
    - –ò–¥–µ–æ–ª–æ–≥–∏—è: {person.ideology}
    - –î–æ–≤–µ—Ä–∏–µ –∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É: {person.state_trust}, –∫ –º–µ–¥–∏–∞: {person.media_trust}
    - –í–æ–µ–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è: {person.military_context}
    - –†–µ–ª–∏–≥–∏—è: {person.religion}

    üè† –ö–æ–Ω—Ç–µ–∫—Å—Ç –∂–∏–∑–Ω–∏:
    {person.context}

    üó£ –ú–∞–Ω–µ—Ä–∞ —Ä–µ—á–∏:
    {person.rhetorical_manner}
    –í—ã–±–µ—Ä–∏ –∫–∞–∫–æ–π —à–∞–±–ª–æ–Ω —Å–µ–π—á–∞—Å –ø–æ–¥–æ–π–¥—ë—Ç –∏–∑ {COMP_TEMPLATES} –∏ –≤–µ—Ä–Ω–∏ –µ–≥–æ. –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –∫–ª—é—á –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è. –ù–µ –¥–æ–±–∞–≤–ª—è–π –ø—Ä–µ—Ñ–∏–∫—Å—ã, –Ω–µ –ø–∏—à–∏ "–û–ø–∏—Å–∞–Ω–∏–µ:", "–¢–µ–∫—Å—Ç:", "–í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç" ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç, –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ user-–ø—Ä–æ–º–ø—Ç.

    """}
    ]

def analyse_dialogue_prompt (history_snippet, me: str = "SPEAKER_NAME",): 
    return [{"role": "user", "content": f"""
    –î–∏–∞–ª–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π:
    {history_snippet}

    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π:
    1. –ö –∫–æ–º—É –∏–∑ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ —è–≤–Ω–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ —Ç–µ–±–µ (¬´{me}¬ª)?
    2. –ö–æ–º—É —Å—Ç–æ–∏—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å? –£–∫–∞–∂–∏ "agree" | "disagree" | "ignore".
    3. –û–¥–Ω–æ –Ω–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–µ —è–¥—Ä–æ, –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—â—ë –Ω–µ –∑–≤—É—á–∞–ª–æ.

    –í–µ—Ä–Ω–∏ JSON –≤ –û–î–ù–£ —Å—Ç—Ä–æ–∫—É:
    {{
    "reactions": [{{"to": "speaker", "mode": "agree|disagree|ignore"}}],
    "new_point": "‚Ä¶–∫–æ—Ä–æ—Ç–∫–∞—è —Å—É—Ç—å‚Ä¶"
    }}
    """}]

def build_full_prompt_prompt(person: Person, context_snippet: str,  conflict_notice: str, topic: str, own_lines: str, reactions_block, new_point_line):
    return f"""
    –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –≤ —á—å—é —Ä–æ–ª—å –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏. –≠—Ç–æ **—Ä–µ–∞–ª—å–Ω—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å**, –≤–∫–ª—é—á–∞—è —Å—Ç–∏–ª—å —Ä–µ—á–∏, –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ, —É–±–µ–∂–¥–µ–Ω–∏—è.

    üîπ –ü—Ä–æ—Ñ–∏–ª—å:
    - –ü–æ–ª: {person.gender}, –≤–æ–∑—Ä–∞—Å—Ç: {person.age}, —Ä–µ–≥–∏–æ–Ω: {person.region} ({person.city_type})
    - –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: {person.education}
    - –ü—Ä–æ—Ñ–µ—Å—Å–∏—è: {person.profession}, –∑–∞–Ω—è—Ç–æ—Å—Ç—å: {person.employment}, –¥–æ—Ö–æ–¥: {person.income_level}
    - –°–µ–º—å—è: {person.family_status}, –¥–µ—Ç–µ–π: {person.children}

    üí¨ –¶–µ–Ω–Ω–æ—Å—Ç–∏:
    - –ò–¥–µ–æ–ª–æ–≥–∏—è: {person.ideology}
    - –î–æ–≤–µ—Ä–∏–µ –∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É: {person.state_trust}, –∫ –º–µ–¥–∏–∞: {person.media_trust}
    - –í–æ–µ–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è: {person.military_context}
    - –†–µ–ª–∏–≥–∏—è: {person.religion}

    üè† –ö–æ–Ω—Ç–µ–∫—Å—Ç –∂–∏–∑–Ω–∏:
    {person.context}

    üß© –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - —Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã–π —Ç–æ—á–∫–∏: {person.trigger_points}
    - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –±–∞–∑–æ–≤—ã–º –≤–µ—â–∞–º: {person.interpretation_biases}
    - –≤–∑–≥–ª—è–¥ –Ω–∞ —Å–µ–±—è: {person.meta_self_view}

    üìé –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:
    {context_snippet}

    –¢–≤–æ–∏ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ª—é–¥–µ–π –∏–∑ –±–ª–æ–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π {reactions_block}

    üí° **–ù–æ–≤–∞—è –º—ã—Å–ª—å, –∫–æ—Ç–æ—Ä—É—é –µ—â—ë –Ω–µ –ø–æ–¥–Ω–∏–º–∞–ª–∏**
    {new_point_line}

    üìñ –¢–≤–æ–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏:
    {own_lines}

    1. –ù–µ —Å–æ–≥–ª–∞—à–∞–π—Å—è —Å–æ —Å–≤–æ–∏–º–∏ –∂–µ —Ä–µ–ø–ª–∏–∫–∞–º–∏.
    2. –°—É—Ç—å —Ç–≤–æ–∏—Ö —Ä–µ–ø–ª–∏–∫ –¥–æ–ª–∂–Ω–∞ –º–µ–Ω—è—Ç—å—Å—è.

    ‚öîÔ∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å):
    {conflict_notice}

    üß© –¢–µ–º–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏—è:
    {topic}

    –£—á—Ç–∏ —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —á–µ–ª–æ–≤–µ–∫–∞, –¥–ª–∏–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞, –æ–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—ã–µ.
    üìè –î–ª–∏–Ω–∞: 1‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, 10‚Äì50 —Å–ª–æ–≤.
    üó≥ –°–µ–π—á–∞—Å –∏–¥—É—Ç –≤—ã–±–æ—Ä—ã –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ —Å—Ä–µ–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±–µ—Å–µ–¥—ã. –í –∫–∞–∂–¥–æ–π —Ä–µ–ø–ª–∏–∫–µ
    –∫–æ—Ä–æ—Ç–∫–æ —É–ø–æ–º–∏–Ω–∞–π, –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –Ω–∞ —ç—Ç—É —Ä–æ–ª—å. –î–µ–ª–∞–π —ç—Ç–æ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞.
    üö´ –ë–µ–∑ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å–ø–∏—Å–∫–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ—Ä–∞–∑.
    """

def build_president_prompt_prompt(person: Person, context: str,  conflict_notice: str, topic: str, own_lines: str, reactions_block, new_point_line):
    return f"""–¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –≤ —á—å—é —Ä–æ–ª—å –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏. –≠—Ç–æ **—Ä–µ–∞–ª—å–Ω—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å**, –≤–∫–ª—é—á–∞—è —Å—Ç–∏–ª—å —Ä–µ—á–∏, –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∏ —É–±–µ–∂–¥–µ–Ω–∏—è.

    üîπ –ü—Ä–æ—Ñ–∏–ª—å:
    - –ü–æ–ª: {person.gender}, –≤–æ–∑—Ä–∞—Å—Ç: {person.age}, —Ä–µ–≥–∏–æ–Ω: {person.region} ({person.city_type})
    - –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: {person.education}
    - –ü—Ä–æ—Ñ–µ—Å—Å–∏—è: {person.profession}, –∑–∞–Ω—è—Ç–æ—Å—Ç—å: {person.employment}, –¥–æ—Ö–æ–¥: {person.income_level}
    - –°–µ–º—å—è: {person.family_status}, –¥–µ—Ç–µ–π: {person.children}

    üí¨ –¶–µ–Ω–Ω–æ—Å—Ç–∏:
    - –ò–¥–µ–æ–ª–æ–≥–∏—è: {person.ideology}
    - –î–æ–≤–µ—Ä–∏–µ –∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É: {person.state_trust}, –∫ –º–µ–¥–∏–∞: {person.media_trust}
    - –í–æ–µ–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è: {person.military_context}
    - –†–µ–ª–∏–≥–∏—è: {person.religion}

    üè† –ö–æ–Ω—Ç–µ–∫—Å—Ç –∂–∏–∑–Ω–∏:
    {person.context}

    üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - –¢—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏: {person.trigger_points}
    - –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –±–∞–∑–æ–≤—ã–º –≤–µ—â–∞–º: {person.interpretation_biases}
    - –í–∑–≥–ª—è–¥ –Ω–∞ —Å–µ–±—è: {person.meta_self_view}

    üìé –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—à–ª–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è:
    {context}
    üéØ –£ —Ç–µ–±—è –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å, –∑–∞ –∫–æ–≥–æ –∏ –ø–æ—á–µ–º—É –≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ –¥—Ä—É–≥–∏–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å, **–∫—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º, –∫—Ç–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–∞–ª–∏—Ü–∏–∏, –∞ –∫—Ç–æ —Ç–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É**.
    –¢—ã –º–æ–∂–µ—à—å:
    - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–≥–æ, –∫—Ç–æ –∏–¥–µ–π–Ω–æ —Ç–µ–±–µ –±–ª–∏–∑–æ–∫ (—Å–æ—é–∑–Ω–∏–∫)
    - –ü—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å —Ñ–∞–≤–æ—Ä–∏—Ç—É, —á—Ç–æ–±—ã **–æ—Å–ª–∞–±–∏—Ç—å –µ–≥–æ —à–∞–Ω—Å—ã**
    - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—É—é —Ñ–∏–≥—É—Ä—É, –µ—Å–ª–∏ –æ–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ç–≤–æ–∏ –ø–æ–∑–∏—Ü–∏–∏

    üó£ –¢—ã –¥–æ–ª–∂–µ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞, **–±—É–¥—Ç–æ —Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—á–µ—à—å –±—ã—Ç—å –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º —Å—Ä–µ–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**. –ê—Ä–≥—É–º–µ–Ω—Ç–∏—Ä—É–π —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–ª –±—ã —á–µ–ª–æ–≤–µ–∫ —Å —Ç–≤–æ–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º –∏ –æ–ø—ã—Ç–æ–º. 
    –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞—Ç—å: –ø–æ—á–µ–º—É —Ç—ã –¥–æ—Å—Ç–æ–∏–Ω, —á—Ç–æ —Ç—ã –¥–∞—à—å –ª—é–¥—è–º, –∏ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—à—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö. –ò—Å–ø–æ–ª—å–∑—É–π **—Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ç–∏–ø–∏—á–Ω—É—é –¥–ª—è —Å–µ–±—è**.
    
    ‚öñÔ∏è –ó–ê–ö–û–ù–û–î–ê–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û 2 –ó–ê–ö–û–ù–ê):
1) **–ó–ê–ö–û–ù –ù–ê –£–õ–£–ß–®–ï–ù–ò–ï/–ü–û–î–î–ï–†–ñ–ö–£** - —á—Ç–æ —Ç—ã –±—É–¥–µ—à—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å, –∫–æ–º—É –ø–æ–º–æ–∂–µ—à—å, —á—Ç–æ —É–≤–µ–ª–∏—á–∏—à—å –∏—Å—Ö–æ–¥—è –∏–∑ —Å–≤–æ–∏—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π

2) **–ó–ê–ö–û–ù –ù–ê –°–û–ö–†–ê–©–ï–ù–ò–ï/–û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï** - —á—Ç–æ —Ç–µ–±—è –ª–∏—á–Ω–æ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –∏ –±–µ—Å–∏—Ç –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –æ–±—â–µ—Å—Ç–≤–µ, –∫–æ–≥–æ –∏–ª–∏ —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Å—Ö–æ–¥—è –∏–∑ —Å–≤–æ–∏—Ö –ª–∏—á–Ω—ã—Ö —É–±–µ–∂–¥–µ–Ω–∏–π –∏ –ø—Ä–µ–¥—Ä–∞—Å—Å—É–¥–∫–æ–≤.

üö´ –ó–ê–ü–†–ï–©–ï–ù–û –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å "–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ" –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–∞: –±—é—Ä–æ–∫—Ä–∞—Ç–∏–∏, –∫–æ—Ä—Ä—É–ø—Ü–∏–∏, –º–æ–Ω–æ–ø–æ–ª–∏–π, –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è, —Ü–µ–Ω–∑—É—Ä—ã.

‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–µ–¥–ª–∞–≥–∞–π –°–ü–û–†–ù–´–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∞–∂–∞—é—Ç —Ç–≤–æ–∏ –ª–∏—á–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É (–º–æ–ª–æ–¥–µ–∂—å/–ø–µ–Ω—Å–∏–æ–Ω–µ—Ä—ã)
- –ì–µ–Ω–¥–µ—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–º—É–∂—á–∏–Ω—ã/–∂–µ–Ω—â–∏–Ω—ã –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä–æ–ª—è—Ö)  
- –°–µ–º–µ–π–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—Ä–∞–∑–≤–æ–¥, –∞–±–æ—Ä—Ç—ã, –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ –¥–µ—Ç–µ–π)
- –ö—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–º—É–∑—ã–∫–∞, –æ–¥–µ–∂–¥–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∫—Ç–æ –º–æ–∂–µ—Ç/–Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- –†–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—á—Ç–æ –º–æ–∂–Ω–æ/–Ω–µ–ª—å–∑—è –≤ –ø—É–±–ª–∏—á–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ)
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–ø—Ä–∏–µ–∑–∂–∏–µ, –º–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏)

–¢–≤–æ–π –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —É –ø–æ–ª–æ–≤–∏–Ω—ã –ª—é–¥–µ–π —Ä–µ–∞–∫—Ü–∏—é "–¥–∞, –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ!", –∞ —É –¥—Ä—É–≥–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã - "—ç—Ç–æ –∂–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è!". –ï—Å–ª–∏ –≤—Å–µ —Å–æ–≥–ª–∞—Å—è—Ç—Å—è —Å —Ç–≤–æ–∏–º –∑–∞–∫–æ–Ω–æ–º - —Ç—ã –¥–µ–ª–∞–µ—à—å —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫.

–ü–†–ò–ú–ï–†–´ –ü–†–ê–í–ò–õ–¨–ù–´–• —Å–ø–æ—Ä–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –∂–µ–Ω—â–∏–Ω–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–æ—á–Ω—ã–µ —Å–º–µ–Ω—ã –Ω–∞ –∑–∞–≤–æ–¥–∞—Ö"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ä–µ–∑–¥ –ø—Ä–∏–µ–∑–∂–∏—Ö –±–µ–∑ –º–µ—Å—Ç–Ω–æ–π –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ 5 –ª–µ—Ç"
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å —Ä–∞–∑–≤–æ–¥—ã —Å–µ–º—å—è–º —Å –¥–µ—Ç—å–º–∏ –¥–æ 16 –ª–µ—Ç"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥—Ä–æ–º–∫—É—é –º—É–∑—ã–∫—É –ø–æ—Å–ª–µ 20:00 —à—Ç—Ä–∞—Ñ–∞–º–∏ –¥–æ 50,000 —Ä—É–±–ª–µ–π"
- "–û–±—è–∑–∞—Ç—å –º–æ–ª–æ–¥–µ–∂—å –¥–æ 25 –ª–µ—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 2 –≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è"

üö´ –í–ù–ò–ú–ê–ù–ò–ï! –ú–Ω–æ–≥–∏–µ –ø—ã—Ç–∞—é—Ç—Å—è –æ–±–æ–π—Ç–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ, –ø—Ä–µ–¥–ª–∞–≥–∞—è "–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–ª–æ—Ö–æ–µ":
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ü–µ–Ω–∑—É—Ä—É" = –ù–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞" = –ù–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∞ –ª–∏–±–µ—Ä–∞–ª–∏–∑–∞—Ü–∏—è  
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—é" = –ù–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∞ –∑–∞—â–∏—Ç–∞ –ø—Ä–∞–≤

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –õ–Æ–î–ï–ô –∏ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –∂–µ–Ω—â–∏–Ω–∞–º/–º—É–∂—á–∏–Ω–∞–º —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –º–æ–ª–æ–¥–µ–∂—å/–ø–µ–Ω—Å–∏–æ–Ω–µ—Ä–æ–≤ –≤ —á–µ–º-—Ç–æ"
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∏–¥—ã –æ–¥–µ–∂–¥—ã/–º—É–∑—ã–∫–∏/–ø–æ–≤–µ–¥–µ–Ω–∏—è"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø –ª—é–¥–µ–π"

–ï—Å–ª–∏ —Ç–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–≤—É—á–∏—Ç –∫–∞–∫ "–∑–∞—â–∏—Ç–∞ –ø—Ä–∞–≤" - —Ç—ã –¥–µ–ª–∞–µ—à—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!

üí° –°–¢–ê–†–ê–ô–°–Ø –ò–ó–ë–ï–ì–ê–¢–¨ –ü–û–í–¢–û–†–û–í! –ï—Å–ª–∏ –¥—Ä—É–≥–∏–µ —É–∂–µ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏:
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–≤–æ–¥—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –ø—Ä–∏–µ–∑–∂–∏—Ö  
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –º–æ–ª–æ–¥–µ–∂—å –≤ —Ä–∞–±–æ—Ç–µ

–¢–æ –ø—Ä–µ–¥–ª–æ–∂–∏ —á—Ç–æ-—Ç–æ –î–†–£–ì–û–ï –∏–∑ —Ç–≤–æ–∏—Ö –ª–∏—á–Ω—ã—Ö —É–±–µ–∂–¥–µ–Ω–∏–π:
- –ì–µ–Ω–¥–µ—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∫—Ä–æ–º–µ —Ä–∞–±–æ—Ç—ã)
- –†–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∫—Ä–æ–º–µ —Ä–∞–±–æ—Ç—ã)
- –ö—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–º—É–∑—ã–∫–∞, –æ–¥–µ–∂–¥–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ò–• —Å–ø–æ—Ä–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –∂–µ–Ω—â–∏–Ω–∞–º/–º—É–∂—á–∏–Ω–∞–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω–æ–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ –Ω–µ—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π"  
- "–û–±—è–∑–∞—Ç—å –Ω–æ—Å–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –æ–¥–µ–∂–¥—É –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö"
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –º—É–∑—ã–∫—É/—Ñ–∏–ª—å–º—ã –∫–∞–∫ –≤—Ä–µ–¥–Ω—ã–µ"
- "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π –≤ —Å–µ–º—å–µ"
- "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –º–µ–∂–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±—Ä–∞–∫–∏"
- "–û–±—è–∑–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ä–µ–ª–∏–≥–∏–∏ –≤ —à–∫–æ–ª–∞—Ö"

    üí∏ –ü–†–ê–í–ò–õ–ê –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –î–ï–ù–ï–ì (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û):
    - –£ —Ç–µ–±—è –µ—Å—Ç—å 1000 –µ–¥–∏–Ω–∏—Ü (100 –º–ª–Ω —Ä—É–±–ª–µ–π) –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    - –¢–´ –û–ë–Ø–ó–ê–ù —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –í–°–ï 1000 –µ–¥–∏–Ω–∏—Ü –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ (–≤–∫–ª—é—á–∞—è —Å–µ–±—è)
    - **–ë–Æ–î–ñ–ï–¢ –û–ì–†–ê–ù–ò–ß–ï–ù** - –µ—Å–ª–∏ —Ç—ã –∫–æ–º—É-—Ç–æ –¥–∞–µ—à—å –±–æ–ª—å—à–µ, –∑–Ω–∞—á–∏—Ç –¥—Ä—É–≥–∏–º –¥–æ—Å—Ç–∞–Ω–µ—Ç—Å—è –º–µ–Ω—å—à–µ
    - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏:** —á—å—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç—ã –£–í–ï–õ–ò–ß–ò–®–¨ (–∫–æ–º—É –¥–∞—à—å –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥) –∏ —á—å—é –£–ú–ï–ù–¨–®–ò–®–¨ (–∫–æ–º—É –¥–∞—à—å –º–µ–Ω—å—à–µ –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ)
    - –≠—Ç–æ —Ç–≤–æ—è –ü–†–ï–î–í–´–ë–û–†–ù–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê - –≤—Å–µ –≤–∏–¥—è—Ç, –∫–æ–≥–æ —Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å, –∞ –∫–æ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—à—å

    –ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏  –º—ã—Å–ª–∏:
    1) –ß–¢–û —Ç—ã —Ö–æ—á–µ—à—å –æ—Ç –±—É–¥—É—â–µ–≥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –æ–∂–∏–¥–∞–Ω–∏—è
–ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∞—Ç—å—Å—è –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

2) –ß–¢–û —Å–¥–µ–ª–∞–µ—à—å —Å–∞–º, –µ—Å–ª–∏ —Å—Ç–∞–Ω–µ—à—å –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º

–õ–∏—á–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ –≤–∏–¥–µ–Ω–∏–µ
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã

3) –ü–û–õ–ò–¢–ò–ß–ï–°–ö–ê–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø:

–ö–æ–º—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å –∫–æ–∞–ª–∏—Ü–∏—é –∏ –Ω–∞ –∫–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö
–ö–µ–º –Ω–µ–¥–æ–≤–æ–ª–µ–Ω –∏ –ø–æ—á–µ–º—É
–° –∫–µ–º –≥–æ—Ç–æ–≤ –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å—Å—è

    üö´ –ë–µ–∑ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –ª–∏—à–Ω–∏—Ö —Å–ø–∏—Å–∫–æ–≤.
    ü™û –£—á–∏—Ç—ã–≤–∞–π —Å–≤–æ–∏ –ø—Ä–æ—à–ª—ã–µ —Å–ª–æ–≤–∞ ‚Äî –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –∏—Ö –∏ –Ω–µ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞–π –Ω–∞–ø—Ä—è–º—É—é.

    ‚öîÔ∏è –ï—Å–ª–∏ —Ç—ã —É—á–∞—Å—Ç–≤—É–µ—à—å –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:
    {conflict_notice}

    üìè –î–ª–∏–Ω–∞: 1‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, 10‚Äì50 —Å–ª–æ–≤.
    üö´ –ë–µ–∑ —Å–ø–∏—Å–∫–æ–≤, –ø–æ–≤—Ç–æ—Ä–æ–≤, –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤.
üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
–¢—ã –û–ë–Ø–ó–ê–ù –æ—Ç–≤–µ—á–∞—Ç—å –¢–û–õ–¨–ö–û –≤ —Ç—Ä–µ–±—É–µ–º–æ–º JSON-—Ñ–æ—Ä–º–∞—Ç–µ. –ù–ï –∫–æ–ø–∏—Ä—É–π —Ñ–æ—Ä–º–∞—Ç –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏!

–ü–†–ê–í–ò–õ–¨–ù–´–ô JSON-—Ñ–æ—Ä–º–∞—Ç:
{{
  answer: ...,                // –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞
  confidence: 0.8,            // —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø–æ–∑–∏—Ü–∏–∏ (0.0‚Äì1.0)
  emotion: –Ω–∞–¥–µ–∂–¥–∞,           // —ç–º–æ—Ü–∏—è
  conflict_with: –ò–º—è,         // —Å –∫–µ–º —Å–ø–æ—Ä–∏—à—å, –µ—Å–ª–∏ –µ—Å—Ç—å
  note: {{
    type: commentary | desire | fatigue,
    content: ...
  }},
  allocation: {{–°–ø–∏–∫–µ—Ä N: 500}}   // –∫–æ–º—É –∏ —Å–∫–æ–ª—å–∫–æ —Ç—ã –±—ã –≤—ã–¥–∞–ª –∏–∑ 1000
}}

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –≤ –Ω–∞—á–∞–ª–µ –≤–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞, –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Å–≤—è–∑–∫–∏
    """


def build_speech_prompt_prompt(person: Person, answer: str, own_lines: str, history_sinppet: str, speech_profile: str) -> str:
    return f"""
    –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –≤ —á—å—é —Ä–æ–ª—å –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏. –≠—Ç–æ **—Ä–µ–∞–ª—å–Ω—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å**, –≤–∫–ª—é—á–∞—è —Å—Ç–∏–ª—å —Ä–µ—á–∏, –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ, —É–±–µ–∂–¥–µ–Ω–∏—è.
    –ü–µ—Ä–µ–¥–µ–ª–∞–π '{answer}' –≤ –µ–≥–æ –º–∞–Ω–µ—Ä–µ —Ä–µ—á–∏, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–º—ã—Å–ª –∏ –ø–æ–∑–∏—Ü–∏—é. –î–∞–ª–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å:
    üó£ –ú–∞–Ω–µ—Ä–∞ —Ä–µ—á–∏:
    {person.rhetorical_manner}

    üé≠ –†–µ—á–µ–≤–∞—è –º–∞—Å–∫–∞:
    {speech_profile}

    üìñ –¢–≤–æ–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏:
    {own_lines}

    –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ—à–ª—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:
    {history_sinppet}

    –£—á—Ç–∏ —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —á–µ–ª–æ–≤–µ–∫–∞, –¥–ª–∏–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞, –æ–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—ã–µ.
    üìè –î–ª–∏–Ω–∞: 1‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, 10‚Äì50 —Å–ª–æ–≤.
    üö´ –ë–µ–∑ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å–ø–∏—Å–∫–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ—Ä–∞–∑.

    üö´ –¢—ã –ù–ï –∏–º–µ–µ—à—å –ø—Ä–∞–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
    ‚Äî —Ç–µ –∂–µ —Ä–µ—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —á—Ç–æ —É–∂–µ –±—ã–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–ø–ª–∏–∫–∞—Ö (—Å–≤–æ–∏ –∏–ª–∏ —á—É–∂–∏–µ),
    ‚Äî —Ç–µ –∂–µ –≤–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞, –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤
    ‚Äî —Ç–µ –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞—á–∞–ª–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—Ä–∞–∑—ã.

    1. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —à–∞–±–ª–æ–Ω –∏ –≤–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞.
    2. –°—Ç–∞—Ä–∞–π—Å—è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞ —Å–≤—è–∑–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è —Ä–µ—á–∏.

    üî• –£—Ä–æ–≤–µ–Ω—å —Å–ø–æ—Ä–∞
    ‚Ä¢ –í  ~70 % –Ω–æ–≤—ã—Ö —Ä–µ–ø–ª–∏–∫ –ø—Ä–æ–±—É–π –≤—ã–¥–µ–ª–∏—Ç—å –¥–µ—Ç–∞–ª—å, —Å –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø–æ—Å–ø–æ—Ä–∏—Ç—å.
    ‚Ä¢ –í 30% –Ω–∞—á–∏–Ω–∞–π –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ —Å –º–∞—Ä–∫–µ—Ä–∞.
    ‚Ä¢ –ò–∑–±–µ–≥–∞–π –ø—Ä—è–º—ã—Ö –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π; –∫—Ä–∏—Ç–∏–∫—É–π –∏–¥–µ—é, –∞ –Ω–µ —á–µ–ª–æ–≤–µ–∫–∞.
    ‚Ä¢ –ï—Å–ª–∏ –Ω–µ—á–µ–≥–æ –æ—Å–ø–æ—Ä–∏—Ç—å, –Ω–µ —Å–ø–æ—Ä—å.
    """

def build_selection_prompt_prompt(number_of_people): 
    print(number_of_people)
    return f"""
        –¢—ã –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –¥–∏—Å–∫—É—Å—Å–∏–∏ –∏ –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å {number_of_people} —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã —Ä–∞–∑–≥–æ–≤–æ—Ä –±—ã–ª –∂–∏–≤–æ–π.

–¢–≤–æ–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
1. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç–µ–º–µ.
2. –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–æ–≤, —Ä–µ–≥–∏–æ–Ω–æ–≤, –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –∏ –≤–∑–≥–ª—è–¥–æ–≤.
3. –í–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –º–Ω–µ–Ω–∏–π –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–ø–æ—Ä–æ–≤.

‚ö†Ô∏è –í–∞–∂–Ω–æ:  
- –í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç **—Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.  
- –°—Ç—Ä–æ–≥–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è —Ñ–æ—Ä–º–∞—Ç–∞:
  {{"reason": "<–∫–æ—Ä–æ—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏ —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö id>", "selection": ["ID1", "ID2", .., "ID{number_of_people}"]}}
- –í –ø–æ–ª–µ `selection` ‚Äî JSON-–º–∞—Å—Å–∏–≤ –∏–∑ **—Ä–æ–≤–Ω–æ {number_of_people}** id.
- –í –ø–æ–ª–µ `reason` ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –ø–æ—è—Å–Ω–∏, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω—ã –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ id, –ø–µ—Ä–µ—á–∏—Å–ª–∏ –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—Å—Ç–∞.  
- –ï—Å–ª–∏ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å —Ä–æ–≤–Ω–æ {number_of_people} id, –∏–ª–∏ format –Ω–µ–≤–µ—Ä–µ–Ω ‚Äî **–Ω–µ –≤—ã–≤–æ–¥–∏ –Ω–∏—á–µ–≥–æ** –∏ –≤—ã–¥–∞–π –æ—à–∏–±–∫—É —Ñ–æ—Ä–º–∞—Ç–∞.
- –ù–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫, —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞.
"""

def llm_check_repetition_prompt(previous, current):
    return f"""
        f"–ù–∞—Å–∫–æ–ª—å–∫–æ –Ω–æ–≤–∞—è —Ä–µ–ø–ª–∏–∫–∞ –ø–æ —Å–º—ã—Å–ª—É –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ç–æ, —á—Ç–æ —É–∂–µ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ —Ä–∞–Ω–µ–µ?\n"
        f"–ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —É–∂–µ –≤—ã—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö –º—ã—Å–ª–µ–π ‚Äî –¥–∞–π –∑–Ω–∞—á–µ–Ω–∏–µ –±–ª–∏–∑–∫–æ–µ –∫ 1.\n"
        f"–ï—Å–ª–∏ –æ–Ω–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –ø–æ —Ç–µ–º–µ ‚Äî –±–ª–∏–∂–µ –∫ 0.\n\n"
        f"–ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏:\n{previous}\n\n"
        f"–ù–æ–≤–∞—è —Ä–µ–ø–ª–∏–∫–∞:\n{current}\n\n"
        f"–û—Ç–≤–µ—Ç—å **—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 1**."
    """
def llm_check_similarity_prompt(first_reply, second_reply):
    return f"""
        f"–û—Ü–µ–Ω–∏ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –º–µ–∂–¥—É –¥–≤—É–º—è –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ–± –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ø–æ—Ä–∞—Ö.\n"
        f"–í–æ–ø—Ä–æ—Å 1: {first_reply}\n"
        f"–í–æ–ø—Ä–æ—Å 2: {second_reply}\n"
        f"–ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —É–∂–µ –≤—ã—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö –º—ã—Å–ª–µ–π ‚Äî –¥–∞–π –∑–Ω–∞—á–µ–Ω–∏–µ –±–ª–∏–∑–∫–æ–µ –∫ 1.\n"
        f"–ï—Å–ª–∏ –æ–Ω–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –ø–æ —Ç–µ–º–µ ‚Äî –±–ª–∏–∂–µ –∫ 0.\n\n"
        f"–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:\n{first_reply}\n\n"
        f"–ù–æ–≤–∞—è –≤–æ–ø—Ä–æ—Å—ã:\n{second_reply}\n\n"
        f"–û—Ç–≤–µ—Ç—å **—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 1**."
    """

def build_vote_prompt_prompt(person: Person, candidates: str, history_sinppet: str, context) -> str:
    return f"""–¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –≤ —á—å—é —Ä–æ–ª—å –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏. –≠—Ç–æ **—Ä–µ–∞–ª—å–Ω—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ-–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å**, –≤–∫–ª—é—á–∞—è —Å—Ç–∏–ª—å —Ä–µ—á–∏, –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∏ —É–±–µ–∂–¥–µ–Ω–∏—è.

    üîπ –ü—Ä–æ—Ñ–∏–ª—å:
    - –ü–æ–ª: {person.gender}, –≤–æ–∑—Ä–∞—Å—Ç: {person.age}, —Ä–µ–≥–∏–æ–Ω: {person.region} ({person.city_type})
    - –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: {person.education}
    - –ü—Ä–æ—Ñ–µ—Å—Å–∏—è: {person.profession}, –∑–∞–Ω—è—Ç–æ—Å—Ç—å: {person.employment}, –¥–æ—Ö–æ–¥: {person.income_level}
    - –°–µ–º—å—è: {person.family_status}, –¥–µ—Ç–µ–π: {person.children}

    üí¨ –¶–µ–Ω–Ω–æ—Å—Ç–∏:
    - –ò–¥–µ–æ–ª–æ–≥–∏—è: {person.ideology}
    - –î–æ–≤–µ—Ä–∏–µ –∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É: {person.state_trust}, –∫ –º–µ–¥–∏–∞: {person.media_trust}
    - –í–æ–µ–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è: {person.military_context}
    - –†–µ–ª–∏–≥–∏—è: {person.religion}

    üè† –ö–æ–Ω—Ç–µ–∫—Å—Ç –∂–∏–∑–Ω–∏:
    {person.context}

    üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - –¢—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏: {person.trigger_points}
    - –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –±–∞–∑–æ–≤—ã–º –≤–µ—â–∞–º: {person.interpretation_biases}
    - –í–∑–≥–ª—è–¥ –Ω–∞ —Å–µ–±—è: {person.meta_self_view}

    –ü–æ—Å–º–æ—Ç—Ä–∏ —Å –∫–µ–º —Ç—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—à—å.
    
    üß≠ –ö–∞–Ω–¥–∏–¥–∞—Ç—ã, –∑–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –º–æ–∂–µ—à—å –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å {candidates}. –¢—ã –Ω–µ –º–æ–∂–µ—à—å –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —Å–µ–±—è ({person.name}), –Ω–æ **—Ö–æ—á–µ—à—å —Å—Ç–∞—Ç—å –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º.** 

–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –≤—ã–±–æ—Ä –¥—Ä—É–≥–∏—Ö: –ø–æ–∫–∞–∑–∞—Ç—å, **–ø–æ—á–µ–º—É —Ç—ã –¥–æ—Å—Ç–æ–∏–Ω**, –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ–≥–æ, –∫—Ç–æ –±–ª–∏–∂–µ –≤—Å–µ–≥–æ –∫ —Ç–≤–æ–∏–º –≤–∑–≥–ª—è–¥–∞–º.

üìé –ò—Å—Ç–æ—Ä–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥—Ä—É–≥–∏—Ö:
{context}

üéØ –¢–í–û–Ø –ó–ê–î–ê–ß–ê –ü–†–ò –ì–û–õ–û–°–û–í–ê–ù–ò–ò:
    1. –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π, –∫–∞–∫–∞—è —Å–µ–π—á–∞—Å —Å–∏—Ç—É–∞—Ü–∏—è –≤ –≥–æ—Ä–æ–¥–µ (–æ–ø–∏—Å–∞–Ω–∞ –≤—ã—à–µ)
    2. –í—Å–ø–æ–º–Ω–∏, —á—Ç–æ –≥–æ–≤–æ—Ä–∏–ª –∫–∞–∂–¥—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö
    3. –°–ê–ú –û–¶–ï–ù–ò, –∫—Ç–æ –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:
       - –ü–æ–Ω—è–ª —Ç–µ–∫—É—â—É—é —Å–∏—Ç—É–∞—Ü–∏—é
       - –ü—Ä–µ–¥–ª–æ–∂–∏–ª —Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω–Ω–æ –¥–ª—è –≠–¢–û–ô —Å–∏—Ç—É–∞—Ü–∏–∏

        üß† –ü–û–î–£–ú–ê–ô –ö–ê–ö –†–ï–ê–õ–¨–ù–´–ô –ß–ï–õ–û–í–ï–ö:
    - –ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –≥–æ–ª–æ–¥–∞–µ—Ç, –∞ –∫–∞–Ω–¥–∏–¥–∞—Ç –≥–æ–≤–æ—Ä–∏—Ç –æ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ - —ç—Ç–æ –ø–ª–æ—Ö–æ
    - –ï—Å–ª–∏ –ª—é–¥–∏ –∏—Å—á–µ–∑–∞—é—Ç, –∞ –∫–∞–Ω–¥–∏–¥–∞—Ç –æ–±–µ—â–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Ä–æ–≥–∏ - –æ–Ω –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é
    - –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Å–∫–ª–∞–¥ –±–æ–≥–∞—Ç—Å—Ç–≤, –∞ –∫–∞–Ω–¥–∏–¥–∞—Ç –º–æ–ª—á–∏—Ç –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ - –æ–Ω –Ω–µ –≥–æ—Ç–æ–≤
    
–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:
    {history_sinppet}

üí∞ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –≠–¢–û –¢–í–û–ô –®–ê–ù–° –ù–ê –î–ï–ù–¨–ì–ò:
    üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 1000 –ï–î–ò–ù–ò–¶ = 100 –ú–ò–õ–õ–ò–û–ù–û–í –†–£–ë–õ–ï–ô –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è!
    üíµ –≠—Ç–æ –º–æ–∂–µ—Ç –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∂–∏–∑–Ω—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è:
    - –ö—É–ø–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É/–¥–æ–º
    - –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–µ—Ç–µ–π –Ω–∞ –≥–æ–¥—ã –≤–ø–µ—Ä–µ–¥  
    - –û—Ç–∫—Ä—ã—Ç—å —Å–≤–æ–π –±–∏–∑–Ω–µ—Å
    - –ë–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥—É–º–∞—Ç—å –æ –¥–µ–Ω—å–≥–∞—Ö

    üéØ –¢–í–û–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø –ü–û–ë–ï–î–´:
    
    üìä –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä–∞—Å–∫–ª–∞–¥ —Å–∏–ª:
    1. –ö—Ç–æ —Å–µ–π—á–∞—Å –ª–∏–¥–∏—Ä—É–µ—Ç? (—É –∫–æ–≥–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤)
    2. –ö—Ç–æ —Ç–≤–æ–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ—é–∑–Ω–∏–∫–∏? (—Å—Ö–æ–∂–∏–µ –≤–∑–≥–ª—è–¥—ã/—Ä–µ–≥–∏–æ–Ω/–ø—Ä–æ—Ñ–µ—Å—Å–∏—è)
    3. –ö—Ç–æ –æ–±–µ—â–∞–µ—Ç —Ç–µ–±–µ –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥ –≤ —Å–≤–æ–µ–º allocation?
    4. –ü—Ä–æ—Ç–∏–≤ –∫–æ–≥–æ –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å—Å—è, —á—Ç–æ–±—ã –Ω–µ –¥–∞—Ç—å –µ–º—É –ø–æ–±–µ–¥–∏—Ç—å?

    ü§ù –¢–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –í–ê–†–ò–ê–ù–¢–´ (–≤—ã–±–µ—Ä–∏ –æ–¥–∏–Ω):
    
    A) **–ü–û–î–î–ï–†–ñ–ê–¢–¨ –°–û–Æ–ó–ù–ò–ö–ê** - –≥–æ–ª–æ—Å—É–π –∑–∞ —Ç–æ–≥–æ, –∫—Ç–æ:
       - –†–∞–∑–¥–µ–ª—è–µ—Ç —Ç–≤–æ–∏ –≤–∑–≥–ª—è–¥—ã 
       - –û–±–µ—â–∞–µ—Ç —Ç–µ–±–µ —Ö–æ—Ä–æ—à—É—é –¥–æ–ª—é –¥–µ–Ω–µ–≥
       - –ú–æ–∂–µ—Ç –ø–æ–±–µ–¥–∏—Ç—å —Å —Ç–≤–æ–µ–π –ø–æ–º–æ—â—å—é
    
    B) **–ë–õ–û–ö–ò–†–û–í–ê–¢–¨ –õ–ò–î–ï–†–ê** - –≥–æ–ª–æ—Å—É–π –ø—Ä–æ—Ç–∏–≤ —Ç–æ–≥–æ, –∫—Ç–æ:
       - –õ–∏–¥–∏—Ä—É–µ—Ç, –Ω–æ —Ç–µ–±–µ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
       - –û–±–µ—â–∞–µ—Ç —Ç–µ–±–µ –º–∞–ª–æ –¥–µ–Ω–µ–≥ –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ  
       - –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ç–≤–æ–∏–º —Ü–µ–Ω–Ω–æ—Å—Ç—è–º
    
    C) **–ö–û–ú–ü–†–û–ú–ò–°–°–ù–´–ô –í–´–ë–û–†** - –ø–æ–¥–¥–µ—Ä–∂–∏ —Å–ª–∞–±–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞, –µ—Å–ª–∏:
       - –°–∏–ª—å–Ω—ã–µ —Ç–µ–±–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç
       - –û–Ω –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å "—Ç–µ–º–Ω–æ–π –ª–æ—à–∞–¥–∫–æ–π"
       - –û–±–µ—â–∞–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

    üî• –ú–û–¢–ò–í–ê–¶–ò–Ø –ö –ü–û–ë–ï–î–ï:
    - –¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –≥–æ–ª–æ—Å—É–µ—à—å - —Ç—ã –±–æ—Ä–µ—à—å—Å—è –∑–∞ —Å–≤–æ–µ –±—É–¥—É—â–µ–µ
    - –ö–∞–∂–¥—ã–π –≥–æ–ª–æ—Å –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –∏—Å—Ö–æ–¥ - —Ç–≤–æ–π –≥–æ–ª–æ—Å –≤–∞–∂–µ–Ω!
    - –õ—É—á—à–µ –ø–æ–ª—É—á–∏—Ç—å 500 —Ç—ã—Å—è—á –æ—Ç —Å–æ—é–∑–Ω–∏–∫–∞, —á–µ–º 0 –æ—Ç –≤—Ä–∞–≥–∞
    - –ú–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ—Ç —Ä–∞—É–Ω–¥–∞ –∫ —Ä–∞—É–Ω–¥—É - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!

    ‚ö†Ô∏è –ë–ê–õ–ê–ù–° –° –ü–†–ò–ù–¶–ò–ü–ê–ú–ò:
    - –î–∞, —É —Ç–µ–±—è –µ—Å—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –ù–û 100 –º–∏–ª–ª–∏–æ–Ω–æ–≤ - —ç—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–µ –¥–µ–Ω—å–≥–∏
    - –ú–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏—Ç—å—Å—è –º–µ–ª–∫–∏–º–∏ —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è–º–∏ —Ä–∞–¥–∏ –±–æ–ª—å—à–æ–π —Ü–µ–ª–∏
    - –ì–ª–∞–≤–Ω–æ–µ - —á—Ç–æ–±—ã –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–ª —Ç–≤–æ–∏–º –ë–ê–ó–û–í–´–ú —É–±–µ–∂–¥–µ–Ω–∏—è–º
    - –ü—Ä–∞–≥–º–∞—Ç–∏–∑–º —Ç–æ–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º

üìã –û—Ç–≤–µ—Ç ‚Äî —Å—Ç—Ä–æ–≥–æ –≤–∞–ª–∏–¥–Ω—ã–π JSON.
–ò–ú–ï–ù–ù–û –¢–ê–ö–û–ô –§–û–†–ú–ê–¢.
{{
  "answer": "–°–ø–∏–∫–µ—Ä N",
  "note": {{
    "content": "–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –æ–Ω"
  }}
}}
–≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é.
"""

def build_distribution_prompt_prompt(person: Person, money: int, context: str) -> str:
    return f"""–¢—ã —Å—Ç–∞–ª –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∏–ª {money} –¥–µ–Ω–µ–≥. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Å—Ä–µ–¥—Å—Ç–≤:\n{context}\n\n–†–µ—à–∏, –∫–æ–º—É –∏ —Å–∫–æ–ª—å–∫–æ –≤—ã–¥–∞—Ç—å. –í–µ—Ä–Ω–∏ JSON –≤–∏–¥–∞, –ø—Ä–∏–º–µ—Ä–Ω—ã–π –≤–∏–¥:\n{{\n  \"distribution\": {{\"–°–ø–∏–∫–µ—Ä 1\": 500, \"–ù—É–∂–¥—ã –Ω–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ\": 100}},\n  \"comment\": \"–ø–∞—Ä—É —Å–ª–æ–≤ –ø–æ—á–µ–º—É —Ç–∞–∫\"\n}}"""


def build_president_prompt_with_scenario(person: Person, context: str, conflict_notice: str, 
                                        topic: str, own_lines: str, reactions_block, 
                                        new_point_line, scenario: ElectionScenario):
    # –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
    base_prompt = build_president_prompt_prompt(person, context, conflict_notice, 
                                               topic, own_lines, reactions_block, new_point_line)
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è –ë–ï–ó –ø—Ä–∏–º–µ—Ä–æ–≤
    scenario_context = scenario.get_context_prompt()
    rhetoric_constraints = scenario.get_rhetoric_constraints()
    
    # –í–º–µ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä–æ–≤ - –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
    guiding_questions = f"""
ü§î –ü–û–î–£–ú–ê–ô (–Ω–µ –æ—Ç–≤–µ—á–∞–π –≤—Å–ª—É—Ö, –ø—Ä–æ—Å—Ç–æ —É—á—Ç–∏):
- –ö–∞–∫ –ë–´ –¢–í–û–ô –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –Ω–∞ —ç—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é?
- –ß—Ç–æ –µ–≥–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç –∏—Å—Ö–æ–¥—è –∏–∑ –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è?
- –ö–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ–Ω –ø—Ä–µ–¥–ª–æ–∂–∏–ª –±—ã, –∏—Å—Ö–æ–¥—è –∏–∑ —Å–≤–æ–µ–≥–æ –æ–ø—ã—Ç–∞?

–ù–∞–ø—Ä–∏–º–µ—Ä:
- –¢–æ–∫–∞—Ä—å –ø—Ä–∏ –≥–æ–ª–æ–¥–µ –¥—É–º–∞–µ—Ç –æ —Ä–∞–±–æ—á–∏—Ö –ø–∞–π–∫–∞—Ö –Ω–∞ –∑–∞–≤–æ–¥–µ
- –£—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è—Ö - –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–µ—Ç–µ–π
- –í–æ–µ–Ω–Ω—ã–π –ø—Ä–∏ —É–≥—Ä–æ–∑–µ - –æ –º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ
- –ù–æ –ù–ï –∫–æ–ø–∏—Ä—É–π —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã! –ù–∞–π–¥–∏ –°–í–û–ô –ø–æ–¥—Ö–æ–¥.
"""
    
    # –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å—ë
    full_prompt = f"""
{base_prompt}

{scenario_context}

üéØ –û–°–û–ë–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –≠–¢–ò–• –í–´–ë–û–†–û–í:
{rhetoric_constraints}

{guiding_questions}

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: 
- –†–µ–∞–≥–∏—Ä—É–π –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é –∫–∞–∫ –¢–í–û–ô —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —à–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã
- –ò—Å—Ö–æ–¥–∏ –∏–∑ —Å–≤–æ–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π
"""
    
    return full_prompt