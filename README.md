# Hive

Эта папка содержит инструменты для моделирования дискуссии между вымышленными персонажами на основе их профилей. В основе лежит несколько языковых моделей (OpenAI GPT и Google Gemini), которые генерируют ответы от лица каждого участника.

## Структура проекта

- `agent_functions.py` – вспомогательные асинхронные функции для проверки повторов и тематического сходства между репликами при помощи LLM.
- `agents.py` – определения базовых `Agent`, используемых в симуляции (ответы от лица персонажей, переформулировка речи, проверка повторов).
- `profiles_loader.py` – чтение CSV-файлов из каталога `profiles` и преобразование их в объекты `Person`.
- `chat_managers.py` – менеджеры, отслеживающие конфликты, повторы и участие собеседников.
- `prompt_builders.py` – генерация промптов для всех обращений к LLM.
- `prompts.py` – набор текстовых шаблонов и подсказок, используемых при генерации.
- `chat_simulator.py` – основная логика симуляции дискуссии: выбор говорящих, генерация реплик, учёт конфликтов и повторов.
- `llm_api.py` – обёртки для вызова OpenAI и Gemini, поддерживают работу через прокси.
- `models.py` – базовые классы `Person`, `Agent`, а также `Runner` для запуска агентов.
- `respondent_chat_human.py` – пример запуска симуляции с выбранной темой и количеством раундов.
- `profiles/` – CSV‑файлы с описаниями реальных или вымышленных людей.
- `dialogue.json` – пример итогового диалога после работы симулятора.

## Запуск

1. Установите зависимости: `pip install -r requirements.txt` (файл зависимостей не включён, но потребуются `openai`, `requests`, `pydantic` и др.).
2. Установите переменную окружения `OPENAI_API_KEY` с ключом доступа к OpenAI.
3. Запустите симуляцию:
   ```bash
   python respondent_chat_human.py
   ```
   Скрипт загрузит профили из каталога `profiles`, случайно выберет несколько участников и проведёт несколько раундов дискуссии. Результат сохранится в `dialogue.json`.

## Данные

CSV-файлы в каталоге `profiles` содержат подробные анкеты участников: демография, контекст, когнитивная рамка, речевая манера и прочее. Эти данные используются при формировании промптов для LLM, чтобы ответы получались максимально характерными.

## Лицензия

Репозиторий предоставлен в образовательных целях без указания лицензии.
